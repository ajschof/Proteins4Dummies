import pandas as pd
import nglview as nv
import ipywidgets # As a precaution...
import pathlib

def show_pdb_id(pdb_id):
    view = nv.show_pdbid(pdb_id)
    return view

csv_path = pathlib.Path().absolute() / "samples" / "pdb_data_seq.csv"

# Let's read from the CSV containing the protein sequences first
# structureID --> PDB ID (this makes it easier to get the 3D structures of the sequences)
pdb = pd.read_csv(csv_path)
pdb # Just to show the table in Jupyter

# Let's test pymol to see if it can read PDB IDs and output the 3D structure on here
# I'm going to select a random ID from the database and see what it comes back with

pdb_smp = pdb.sample(n=1).loc[:,"structureId"].values[0]

# And display using nglview
view = nv.show_pdbid(pdb_smp)
view